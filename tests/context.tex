%!TeX program = context

% \input lua-widow-control.sty

\setuppapersize[letter]

\setuplayout[
    width=345pt,
    height=555pt,
    header=0pt,
    footer=0pt,
    backspace=135pt,
    topspace=129pt,
]

\setupbodyfont[10pt]

\setupindenting[2em, yes]

\def\filler{
    \input knuth

    \input bryson

    \input knuth

    \input bryson

    \input knuth
}

\def\tests{
    This is a short paragraph. It is exactly two lines long; just enough to make an orphan or a widow.

    \filler

    \page

    This is a short paragraph. It is exactly one line long.

    \filler

    \page
}

\starttext
\nopenalties
% \LuaWidowControlDisable
\tests

% \LuaWidowControlEnable
\tests
\stoptext
